{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{urlConfig}from'../../config';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function MainPage(){const[gifts,setGifts]=useState([]);const navigate=useNavigate();// Fetch gifts from API\nuseEffect(()=>{const fetchGifts=async()=>{try{let url=\"\".concat(urlConfig.backendUrl,\"/api/gifts\");const response=await fetch(url);if(!response.ok){throw new Error(\"HTTP error; \".concat(response.status));}const data=await response.json();setGifts(data);}catch(error){console.log('Fetch error: '+error.message);}};fetchGifts();},[]);// Navigate to product details page\nconst goToDetailsPage=productId=>{navigate(\"/app/product/\".concat(productId));};// Format timestamp to readable date\nconst formatDate=timestamp=>{const date=new Date(timestamp*1000);// Convert seconds to milliseconds\nreturn date.toLocaleDateString('default',{month:'long',day:'numeric',year:'numeric'});};// Get class based on gift condition\nconst getConditionClass=condition=>{return condition===\"New\"?\"list-group-item-success\":\"list-group-item-warning\";};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-4\",children:\"Available Gifts\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:gifts.map(gift=>/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card product-card shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"image-placeholder\",children:gift.image?/*#__PURE__*/_jsx(\"img\",{src:gift.image,alt:gift.name,className:\"card-img-top\"}):/*#__PURE__*/_jsx(\"div\",{className:\"no-image-available p-4 text-center bg-light\",children:\"No Image Available\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:gift.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text \".concat(getConditionClass(gift.condition)),children:[\"Condition: \",gift.condition]}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text text-muted\",children:[\"Added: \",formatDate(gift.date_added)]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-footer\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>goToDetailsPage(gift.id),className:\"btn btn-primary w-100\",children:\"View Details\"})})]})},gift.id))})]});}export default MainPage;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","urlConfig","jsx","_jsx","jsxs","_jsxs","MainPage","gifts","setGifts","navigate","fetchGifts","url","concat","backendUrl","response","fetch","ok","Error","status","data","json","error","console","log","message","goToDetailsPage","productId","formatDate","timestamp","date","Date","toLocaleDateString","month","day","year","getConditionClass","condition","className","children","map","gift","image","src","alt","name","date_added","onClick","id"],"sources":["/home/project/fullstack-capstone-project/giftlink-frontend/src/components/MainPage/MainPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { urlConfig } from '../../config';\n\nfunction MainPage() {\n    const [gifts, setGifts] = useState([]);\n    const navigate = useNavigate();\n\n    // Fetch gifts from API\n    useEffect(() => {\n        const fetchGifts = async () => {\n            try {\n                let url = `${urlConfig.backendUrl}/api/gifts`;\n                const response = await fetch(url);\n                if (!response.ok) {\n                    throw new Error(`HTTP error; ${response.status}`);\n                }\n                const data = await response.json();\n                setGifts(data);\n            } catch (error) {\n                console.log('Fetch error: ' + error.message);\n            }\n        };\n\n        fetchGifts();\n    }, []);\n\n    // Navigate to product details page\n    const goToDetailsPage = (productId) => {\n        navigate(`/app/product/${productId}`);\n    };\n\n    // Format timestamp to readable date\n    const formatDate = (timestamp) => {\n        const date = new Date(timestamp * 1000); // Convert seconds to milliseconds\n        return date.toLocaleDateString('default', {\n            month: 'long',\n            day: 'numeric',\n            year: 'numeric'\n        });\n    };\n\n    // Get class based on gift condition\n    const getConditionClass = (condition) => {\n        return condition === \"New\" ? \"list-group-item-success\" : \"list-group-item-warning\";\n    };\n\n    return (\n        <div className=\"container mt-5\">\n            <h2 className=\"mb-4\">Available Gifts</h2>\n            <div className=\"row\">\n                {gifts.map((gift) => (\n                    <div key={gift.id} className=\"col-md-4 mb-4\">\n                        <div className=\"card product-card shadow-sm\">\n                            <div className=\"image-placeholder\">\n                                {gift.image ? (\n                                    <img src={gift.image} alt={gift.name} className=\"card-img-top\" />\n                                ) : (\n                                    <div className=\"no-image-available p-4 text-center bg-light\">\n                                        No Image Available\n                                    </div>\n                                )}\n                            </div>\n                            <div className=\"card-body\">\n                                <h5 className=\"card-title\">{gift.name}</h5>\n                                <p className={`card-text ${getConditionClass(gift.condition)}`}>\n                                    Condition: {gift.condition}\n                                </p>\n                                <p className=\"card-text text-muted\">\n                                    Added: {formatDate(gift.date_added)}\n                                </p>\n                            </div>\n                            <div className=\"card-footer\">\n                                <button\n                                    onClick={() => goToDetailsPage(gift.id)}\n                                    className=\"btn btn-primary w-100\"\n                                >\n                                    View Details\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                ))}\n            </div>\n        </div>\n    );\n}\n\nexport default MainPage;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,SAAS,KAAQ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzC,QAAS,CAAAC,QAAQA,CAAA,CAAG,CAChB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAAW,QAAQ,CAAGT,WAAW,CAAC,CAAC,CAE9B;AACAD,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAW,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC3B,GAAI,CACA,GAAI,CAAAC,GAAG,IAAAC,MAAA,CAAMX,SAAS,CAACY,UAAU,cAAY,CAC7C,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAACJ,GAAG,CAAC,CACjC,GAAI,CAACG,QAAQ,CAACE,EAAE,CAAE,CACd,KAAM,IAAI,CAAAC,KAAK,gBAAAL,MAAA,CAAgBE,QAAQ,CAACI,MAAM,CAAE,CAAC,CACrD,CACA,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAL,QAAQ,CAACM,IAAI,CAAC,CAAC,CAClCZ,QAAQ,CAACW,IAAI,CAAC,CAClB,CAAE,MAAOE,KAAK,CAAE,CACZC,OAAO,CAACC,GAAG,CAAC,eAAe,CAAGF,KAAK,CAACG,OAAO,CAAC,CAChD,CACJ,CAAC,CAEDd,UAAU,CAAC,CAAC,CAChB,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAAe,eAAe,CAAIC,SAAS,EAAK,CACnCjB,QAAQ,iBAAAG,MAAA,CAAiBc,SAAS,CAAE,CAAC,CACzC,CAAC,CAED;AACA,KAAM,CAAAC,UAAU,CAAIC,SAAS,EAAK,CAC9B,KAAM,CAAAC,IAAI,CAAG,GAAI,CAAAC,IAAI,CAACF,SAAS,CAAG,IAAI,CAAC,CAAE;AACzC,MAAO,CAAAC,IAAI,CAACE,kBAAkB,CAAC,SAAS,CAAE,CACtCC,KAAK,CAAE,MAAM,CACbC,GAAG,CAAE,SAAS,CACdC,IAAI,CAAE,SACV,CAAC,CAAC,CACN,CAAC,CAED;AACA,KAAM,CAAAC,iBAAiB,CAAIC,SAAS,EAAK,CACrC,MAAO,CAAAA,SAAS,GAAK,KAAK,CAAG,yBAAyB,CAAG,yBAAyB,CACtF,CAAC,CAED,mBACI/B,KAAA,QAAKgC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC3BnC,IAAA,OAAIkC,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAC,iBAAe,CAAI,CAAC,cACzCnC,IAAA,QAAKkC,SAAS,CAAC,KAAK,CAAAC,QAAA,CACf/B,KAAK,CAACgC,GAAG,CAAEC,IAAI,eACZrC,IAAA,QAAmBkC,SAAS,CAAC,eAAe,CAAAC,QAAA,cACxCjC,KAAA,QAAKgC,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eACxCnC,IAAA,QAAKkC,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAC7BE,IAAI,CAACC,KAAK,cACPtC,IAAA,QAAKuC,GAAG,CAAEF,IAAI,CAACC,KAAM,CAACE,GAAG,CAAEH,IAAI,CAACI,IAAK,CAACP,SAAS,CAAC,cAAc,CAAE,CAAC,cAEjElC,IAAA,QAAKkC,SAAS,CAAC,6CAA6C,CAAAC,QAAA,CAAC,oBAE7D,CAAK,CACR,CACA,CAAC,cACNjC,KAAA,QAAKgC,SAAS,CAAC,WAAW,CAAAC,QAAA,eACtBnC,IAAA,OAAIkC,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAEE,IAAI,CAACI,IAAI,CAAK,CAAC,cAC3CvC,KAAA,MAAGgC,SAAS,cAAAzB,MAAA,CAAeuB,iBAAiB,CAACK,IAAI,CAACJ,SAAS,CAAC,CAAG,CAAAE,QAAA,EAAC,aACjD,CAACE,IAAI,CAACJ,SAAS,EAC3B,CAAC,cACJ/B,KAAA,MAAGgC,SAAS,CAAC,sBAAsB,CAAAC,QAAA,EAAC,SACzB,CAACX,UAAU,CAACa,IAAI,CAACK,UAAU,CAAC,EACpC,CAAC,EACH,CAAC,cACN1C,IAAA,QAAKkC,SAAS,CAAC,aAAa,CAAAC,QAAA,cACxBnC,IAAA,WACI2C,OAAO,CAAEA,CAAA,GAAMrB,eAAe,CAACe,IAAI,CAACO,EAAE,CAAE,CACxCV,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CACpC,cAED,CAAQ,CAAC,CACR,CAAC,EACL,CAAC,EA5BAE,IAAI,CAACO,EA6BV,CACR,CAAC,CACD,CAAC,EACL,CAAC,CAEd,CAEA,cAAe,CAAAzC,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}