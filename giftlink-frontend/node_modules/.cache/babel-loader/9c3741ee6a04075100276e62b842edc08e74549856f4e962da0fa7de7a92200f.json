{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{urlConfig}from'../../config';import'./SearchPage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function SearchPage(){const[searchQuery,setSearchQuery]=useState('');const[ageRange,setAgeRange]=useState(6);const[searchResults,setSearchResults]=useState([]);const navigate=useNavigate();// Define categories and conditions for dropdowns\nconst categories=['Toys','Books','Electronics','Clothing','Games'];const conditions=['New','Like New','Used','Poor'];// Navigate to Details Page\nconst goToDetailsPage=productId=>{navigate(\"/app/product/\".concat(productId));};// Fetch search results\nconst handleSearch=async()=>{var _document$getElementB,_document$getElementB2;const baseUrl=\"\".concat(urlConfig.backendUrl,\"/api/search?\");const queryParams=new URLSearchParams({name:searchQuery,age_years:ageRange,category:((_document$getElementB=document.getElementById('categorySelect'))===null||_document$getElementB===void 0?void 0:_document$getElementB.value)||'',condition:((_document$getElementB2=document.getElementById('conditionSelect'))===null||_document$getElementB2===void 0?void 0:_document$getElementB2.value)||''}).toString();try{const response=await fetch(\"\".concat(baseUrl).concat(queryParams));if(!response.ok){throw new Error('Search failed');}const data=await response.json();setSearchResults(data);}catch(error){console.error('Failed to fetch search results:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-4 text-center\",children:\"Gift Search\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Search by gift name...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value)})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsxs(\"select\",{id:\"categorySelect\",className:\"form-control\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Categories\"}),categories.map(category=>/*#__PURE__*/_jsx(\"option\",{value:category,children:category},category))]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsxs(\"select\",{id:\"conditionSelect\",className:\"form-control\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Conditions\"}),conditions.map(condition=>/*#__PURE__*/_jsx(\"option\",{value:condition,children:condition},condition))]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-4 align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"ageRange\",children:\"Max Age:\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(\"input\",{type:\"range\",className:\"form-range\",id:\"ageRange\",min:\"1\",max:\"10\",value:ageRange,onChange:e=>setAgeRange(parseInt(e.target.value))})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 text-center\",children:/*#__PURE__*/_jsxs(\"strong\",{children:[ageRange,\" years\"]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12 text-center\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:handleSearch,children:\"Search Gifts\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"search-results mt-4\",children:searchResults.length>0?searchResults.map(product=>/*#__PURE__*/_jsx(\"div\",{className:\"card mb-4 shadow-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row g-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:product.image?/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:product.name,className:\"img-fluid rounded-start card-img-top\"}):/*#__PURE__*/_jsx(\"div\",{className:\"no-image-available p-4 bg-light border-end\",children:\"No Image Available\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:product.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[product.description.slice(0,100),\"...\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-footer bg-white border-0\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>goToDetailsPage(product.id),className:\"btn btn-primary\",children:\"View More\"})})]})})]})},product.id)):/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-info text-center\",role:\"alert\",children:\"No gifts found. Please adjust your filters.\"})})]});}export default SearchPage;","map":{"version":3,"names":["React","useState","useNavigate","urlConfig","jsx","_jsx","jsxs","_jsxs","SearchPage","searchQuery","setSearchQuery","ageRange","setAgeRange","searchResults","setSearchResults","navigate","categories","conditions","goToDetailsPage","productId","concat","handleSearch","_document$getElementB","_document$getElementB2","baseUrl","backendUrl","queryParams","URLSearchParams","name","age_years","category","document","getElementById","value","condition","toString","response","fetch","ok","Error","data","json","error","console","className","children","type","placeholder","onChange","e","target","id","map","htmlFor","min","max","parseInt","onClick","length","product","image","src","alt","description","slice","role"],"sources":["/home/project/fullstack-capstone-project/giftlink-frontend/src/components/SearchPage/SearchPage.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { urlConfig } from '../../config';\nimport './SearchPage.css';\n\nfunction SearchPage() {\n    const [searchQuery, setSearchQuery] = useState('');\n    const [ageRange, setAgeRange] = useState(6);\n    const [searchResults, setSearchResults] = useState([]);\n    const navigate = useNavigate();\n\n    // Define categories and conditions for dropdowns\n    const categories = ['Toys', 'Books', 'Electronics', 'Clothing', 'Games'];\n    const conditions = ['New', 'Like New', 'Used', 'Poor'];\n\n    // Navigate to Details Page\n    const goToDetailsPage = (productId) => {\n        navigate(`/app/product/${productId}`);\n    };\n\n    // Fetch search results\n    const handleSearch = async () => {\n        const baseUrl = `${urlConfig.backendUrl}/api/search?`;\n        const queryParams = new URLSearchParams({\n            name: searchQuery,\n            age_years: ageRange,\n            category: document.getElementById('categorySelect')?.value || '',\n            condition: document.getElementById('conditionSelect')?.value || ''\n        }).toString();\n\n        try {\n            const response = await fetch(`${baseUrl}${queryParams}`);\n            if (!response.ok) {\n                throw new Error('Search failed');\n            }\n            const data = await response.json();\n            setSearchResults(data);\n        } catch (error) {\n            console.error('Failed to fetch search results:', error);\n        }\n    };\n\n    return (\n        <div className=\"container mt-5\">\n            <h2 className=\"mb-4 text-center\">Gift Search</h2>\n\n            {/* Search Input Fields */}\n            <div className=\"row mb-4\">\n                <div className=\"col-md-6\">\n                    <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        placeholder=\"Search by gift name...\"\n                        value={searchQuery}\n                        onChange={(e) => setSearchQuery(e.target.value)}\n                    />\n                </div>\n                <div className=\"col-md-3\">\n                    <select id=\"categorySelect\" className=\"form-control\">\n                        <option value=\"\">All Categories</option>\n                        {categories.map((category) => (\n                            <option key={category} value={category}>\n                                {category}\n                            </option>\n                        ))}\n                    </select>\n                </div>\n                <div className=\"col-md-3\">\n                    <select id=\"conditionSelect\" className=\"form-control\">\n                        <option value=\"\">All Conditions</option>\n                        {conditions.map((condition) => (\n                            <option key={condition} value={condition}>\n                                {condition}\n                            </option>\n                        ))}\n                    </select>\n                </div>\n            </div>\n\n            {/* Age Range Slider */}\n            <div className=\"row mb-4 align-items-center\">\n                <div className=\"col-md-3\">\n                    <label htmlFor=\"ageRange\">Max Age:</label>\n                </div>\n                <div className=\"col-md-6\">\n                    <input\n                        type=\"range\"\n                        className=\"form-range\"\n                        id=\"ageRange\"\n                        min=\"1\"\n                        max=\"10\"\n                        value={ageRange}\n                        onChange={(e) => setAgeRange(parseInt(e.target.value))}\n                    />\n                </div>\n                <div className=\"col-md-3 text-center\">\n                    <strong>{ageRange} years</strong>\n                </div>\n            </div>\n\n            {/* Search Button */}\n            <div className=\"row mb-4\">\n                <div className=\"col-md-12 text-center\">\n                    <button className=\"btn btn-primary\" onClick={handleSearch}>\n                        Search Gifts\n                    </button>\n                </div>\n            </div>\n\n            {/* Search Results */}\n            <div className=\"search-results mt-4\">\n                {searchResults.length > 0 ? (\n                    searchResults.map((product) => (\n                        <div key={product.id} className=\"card mb-4 shadow-sm\">\n                            <div className=\"row g-0\">\n                                <div className=\"col-md-4\">\n                                    {product.image ? (\n                                        <img\n                                            src={product.image}\n                                            alt={product.name}\n                                            className=\"img-fluid rounded-start card-img-top\"\n                                        />\n                                    ) : (\n                                        <div className=\"no-image-available p-4 bg-light border-end\">\n                                            No Image Available\n                                        </div>\n                                    )}\n                                </div>\n                                <div className=\"col-md-8\">\n                                    <div className=\"card-body\">\n                                        <h5 className=\"card-title\">{product.name}</h5>\n                                        <p className=\"card-text\">\n                                            {product.description.slice(0, 100)}...\n                                        </p>\n                                        <div className=\"card-footer bg-white border-0\">\n                                            <button\n                                                onClick={() => goToDetailsPage(product.id)}\n                                                className=\"btn btn-primary\"\n                                            >\n                                                View More\n                                            </button>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    ))\n                ) : (\n                    <div className=\"alert alert-info text-center\" role=\"alert\">\n                        No gifts found. Please adjust your filters.\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n\nexport default SearchPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}