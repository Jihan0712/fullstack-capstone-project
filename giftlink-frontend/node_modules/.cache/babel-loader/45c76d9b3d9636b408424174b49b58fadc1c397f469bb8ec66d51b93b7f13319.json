{"ast":null,"code":"import React,{useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import{urlConfig}from'../../config';import{useAppContext}from'../../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Navbar(){const{isLoggedIn,setIsLoggedIn,userName,setUserName}=useAppContext();const navigate=useNavigate();console.log('isLoggedIn:',isLoggedIn);console.log('setIsLoggedIn:',setIsLoggedIn);console.log('userName:',userName);console.log('setUserName:',setUserName);if(typeof setUserName!=='function'){console.error('setUserName is not a function');}// Load session storage data on component mount\nuseEffect(()=>{const authTokenFromSession=sessionStorage.getItem('auth-token');const nameFromSession=sessionStorage.getItem('name');if(authTokenFromSession&&nameFromSession){setIsLoggedIn(true);setUserName(nameFromSession);}else{setIsLoggedIn(false);setUserName(null);}},[isLoggedIn,setIsLoggedIn,setUserName]);// Handle logout\nconst handleLogout=()=>{sessionStorage.removeItem('auth-token');sessionStorage.removeItem('name');sessionStorage.removeItem('email');setIsLoggedIn(false);setUserName(null);navigate('/app');};// Navigate to profile page (optional)\nconst profileSection=()=>{navigate('/app/profile');};return/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar navbar-expand-lg navbar-light bg-light\",children:[/*#__PURE__*/_jsx(Link,{className:\"navbar-brand\",to:\"/app\",children:\"GiftLink\"}),/*#__PURE__*/_jsx(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-bs-toggle\":\"collapse\",\"data-bs-target\":\"#navbarNav\",\"aria-controls\":\"navbarNav\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\",children:/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggler-icon\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"collapse navbar-collapse justify-content-end\",id:\"navbarNav\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/home.html\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/app\",children:\"Gifts\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/app/search\",children:\"Search\"})}),/*#__PURE__*/_jsx(\"ul\",{className:\"navbar-nav ms-auto d-flex\",children:isLoggedIn?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"nav-link\",style:{cursor:\"pointer\",color:\"#007bff\"},onClick:profileSection,children:[\"Welcome, \",userName]})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn nav-link login-btn\",style:{background:\"none\",border:\"none\",padding:0},onClick:handleLogout,children:\"Logout\"})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link login-btn\",to:\"/app/login\",children:\"Login\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link register-btn\",to:\"/app/register\",children:\"Register\"})})]})})]})})]});}","map":{"version":3,"names":["React","useEffect","Link","useNavigate","urlConfig","useAppContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Navbar","isLoggedIn","setIsLoggedIn","userName","setUserName","navigate","console","log","error","authTokenFromSession","sessionStorage","getItem","nameFromSession","handleLogout","removeItem","profileSection","className","children","to","type","id","style","cursor","color","onClick","background","border","padding"],"sources":["/home/project/fullstack-capstone-project/giftlink-frontend/src/components/Navbar/Navbar.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { urlConfig } from '../../config';\nimport { useAppContext } from '../../context/AuthContext';\n\nexport default function Navbar() {\n    const { isLoggedIn, setIsLoggedIn, userName, setUserName } = useAppContext();\n    const navigate = useNavigate();\n\n    console.log('isLoggedIn:', isLoggedIn);\n    console.log('setIsLoggedIn:', setIsLoggedIn);\n    console.log('userName:', userName);\n    console.log('setUserName:', setUserName);\n\n    if (typeof setUserName !== 'function') {\n        console.error('setUserName is not a function');\n    }\n\n    // Load session storage data on component mount\n    useEffect(() => {\n        const authTokenFromSession = sessionStorage.getItem('auth-token');\n        const nameFromSession = sessionStorage.getItem('name');\n\n        if (authTokenFromSession && nameFromSession) {\n            setIsLoggedIn(true);\n            setUserName(nameFromSession);\n        } else {\n            setIsLoggedIn(false);\n            setUserName(null);\n        }\n    }, [isLoggedIn, setIsLoggedIn, setUserName]);\n\n    // Handle logout\n    const handleLogout = () => {\n        sessionStorage.removeItem('auth-token');\n        sessionStorage.removeItem('name');\n        sessionStorage.removeItem('email');\n        setIsLoggedIn(false);\n        setUserName(null);\n        navigate('/app');\n    };\n\n    // Navigate to profile page (optional)\n    const profileSection = () => {\n        navigate('/app/profile');\n    };\n\n    return (\n        <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\n            <Link className=\"navbar-brand\" to=\"/app\">GiftLink</Link>\n\n            <button\n                className=\"navbar-toggler\"\n                type=\"button\"\n                data-bs-toggle=\"collapse\"\n                data-bs-target=\"#navbarNav\"\n                aria-controls=\"navbarNav\"\n                aria-expanded=\"false\"\n                aria-label=\"Toggle navigation\"\n            >\n                <span className=\"navbar-toggler-icon\"></span>\n            </button>\n\n            <div className=\"collapse navbar-collapse justify-content-end\" id=\"navbarNav\">\n                <ul className=\"navbar-nav\">\n                    <li className=\"nav-item\">\n                        <Link className=\"nav-link\" to=\"/home.html\">Home</Link>\n                    </li>\n                    <li className=\"nav-item\">\n                        <Link className=\"nav-link\" to=\"/app\">Gifts</Link>\n                    </li>\n                    <li className=\"nav-item\">\n                        <Link className=\"nav-link\" to=\"/app/search\">Search</Link>\n                    </li>\n\n                    <ul className=\"navbar-nav ms-auto d-flex\">\n                        {isLoggedIn ? (\n                            <>\n                                <li className=\"nav-item\">\n                                    <span\n                                        className=\"nav-link\"\n                                        style={{ cursor: \"pointer\", color: \"#007bff\" }}\n                                        onClick={profileSection}\n                                    >\n                                        Welcome, {userName}\n                                    </span>\n                                </li>\n                                <li className=\"nav-item\">\n                                    <button\n                                        className=\"btn nav-link login-btn\"\n                                        style={{ background: \"none\", border: \"none\", padding: 0 }}\n                                        onClick={handleLogout}\n                                    >\n                                        Logout\n                                    </button>\n                                </li>\n                            </>\n                        ) : (\n                            <>\n                                <li className=\"nav-item\">\n                                    <Link className=\"nav-link login-btn\" to=\"/app/login\">Login</Link>\n                                </li>\n                                <li className=\"nav-item\">\n                                    <Link className=\"nav-link register-btn\" to=\"/app/register\">Register</Link>\n                                </li>\n                            </>\n                        )}\n                    </ul>\n                </ul>\n            </div>\n        </nav>\n    );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}